/**
 * Validid is a Javascript library to validate ID Card numbers of China, Taiwan, Hong Kong and South Korea.
 * Validid is open source in:
 * https://github.com/Edditoria/validid
 * 
 * @author Edditoria
 * @license MIT
 * Code released under the MIT license:
 * https://github.com/Edditoria/validid/blob/master/LICENSE.txt
 * 
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).validid=n()}(this,(function(){"use strict";function t(t){var n;return n=/[-\/\s]/g,t=t.toUpperCase().replace(n,""),(n=/\([A-Z0-9]\)$/).test(t)&&(t=t.replace(/[\(\)]/g,"")),t}function n(t){var n,e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"today";return"default"!==r&&""!==r||(r="18991129"),!!(n=function(t){return"string"==typeof t&&/^[0-9]{8}$/.test(t)})(t)&&(!!n(r)&&(!1!==(t=(e=function(t){var n,e,r,i,u,o;return u=0,o=+t.substring(u,u+=4),i=t.substring(u,u+=2),e=+t.substring(u,u+=2),n=new Date(o,+i-1,e),r="01,03,05,07,08,10,12".indexOf(i)>=0?31:"04,06,09,11".indexOf(i)>=0?30:o%4==0&&o%100!=0||o%400==0?29:28,e>0&&e<=r&&(+i>0&&+i<=12&&(!(new Date<n)&&n))})(t))&&(!1!==(r=e(r))&&(!1!==(i="today"===i?new Date:"string"==typeof i?e(i):i)&&(t>=r&&t<=i)))))}function e(t){var n,e;return e=(n=new Date).getFullYear()-t,new Date(e,n.getMonth(),n.getDate())}var r,validid;return r=function(){throw new Error("validid.tools is depreciated. Please use validid.utils instead")},(validid=function(){return null}).utils={normalize:t,isDateValid:n,getMaxDate:e},validid.tools={normalize:r,isDateValid:r,getMaxDate:r},validid.cnid=function(e){var r,i,u;return i=function(t){return/^[0-9]{17}[0-9X]$/.test(t)},u=function(t){return n(t.substring(6,14),"18860625")},r=function(t){var n,e,r,i,u,o,c;for(i=t.slice(0,-1),n="X"===t.slice(-1)?10:+t.slice(-1),e=function(t){return Math.pow(2,t-1)%11},c=0,u=t.length,r=0,o=i.length;r<o;r++)c+=+i[r]*e(u),u--;return 0===(12-c%11)%11-n},function(t){return 18===t.length}(e=t(e))&&i(e)&&u(e)&&r(e)},validid.twid=function(n){var e,r;return r=function(t){return/^[A-Z][12][0-9]{8}$/.test(t)},e=function(t){var n,e,r,i,u,o,c;for(e=t.length,"ABCDEFGHJKLMNPQRSTUVXYWZIO",u="ABCDEFGHJKLMNPQRSTUVXYWZIO".indexOf(t[0]),c=Math.floor(u/10+1)+u*(e-1),o=e-2,n=0,i=(r=t.slice(1)).length;n<i;n++)c+=+r[n]*o,o--;return 0===(c+ +t.slice(-1))%10},function(t){return 10===t.length}(n=t(n))&&r(n)&&e(n)},validid.twrc=function(n){var e,r;return r=function(t){return/^[A-Z][A-D][0-9]{8}$/.test(t)},e=function(t){var n,e,r,i,u,o,c,a;for(e=t.length,u=(o="ABCDEFGHJKLMNPQRSTUVXYWZIO").indexOf(t[0]),a=Math.floor(u/10+1)+u*(e-1),a+=o.indexOf(t[1])*(e-2),c=e-3,n=0,i=(r=t.slice(2)).length;n<i;n++)a+=+r[n]*c,c--;return 0===(a+ +t.slice(-1))%10},function(t){return 10===t.length}(n=t(n))&&r(n)&&e(n)},validid.hkid=function(n){var e,r,i,u;return e=function(t){return t.charCodeAt(0)-55},u=function(t){return/[a-zA-Z]/.test(t)},i=function(t){return/^[A-NP-Z]{1,2}[0-9]{6}[0-9A]$/.test(t)},r=function(t){var n,r,i,o,c,a,f;for(f=8===(a=t.length)?324:0,o=t.slice(0,-1),r="A"===t.slice(-1)?10:+t.slice(-1),i=0,c=o.length;i<c;i++)n=o[i],f+=(u(n)?e(n):+n)*a,a--;return 0===(f+r)%11},function(t){return 8===t.length||9===t.length}(n=t(n))&&i(n)&&r(n)},validid.krid=function(r){var i,u,o;return u=function(t){return/^[0-9]{13}$/.test(t)},o=function(t){var r;return r=t.substring(6,7),n(function(){switch(r){case"1":case"2":case"5":case"6":return"19";case"3":case"4":case"7":case"8":return"20";default:return"18"}}()+t.substring(0,6),"default",e(17))},i=function(t){var n,e,r,i,u;for(i=[2,3,4,5,6,7,8,9,2,3,4,5,0],u=0,e=0,n=0,r=t.length;n<r;n++)u+=+t[n]*i[e],e++;return 0===(11-u%11)%10-+t.slice(-1)},function(t){return 13===t.length}(r=t(r))&&u(r)&&o(r)&&i(r)},validid}));
